## 用户创建接口

**接口描述：**该接口用于超级管理员或系统管理员创建用户

`[POST] /api/user/{session}`

**请求参数**

| 参数       | 类型 | 说明                                         |
| ---------- | ---- | -------------------------------------------- |
| name       | str  | 用户的用户名                                 |
| password   | str  | 用户的密码                                   |
| entity     | str  | 用户的业务实体的名字                         |
| department | str  | 用户的部门的名字(若创建系统管理员则默认为"") |
| character  | int  | 用户的权限                                   |
| lock       | bool | 用户的锁定信息                               |
| email      | str  | 用户的邮箱信息                               |

无成功响应参数，接口调用成功则用户会被直接创建添加到数据库中，返回Succeed

**失败响应状态**

| 状态码 | 错误信息                         | 相关说明                                                                         |
| ------ | -------------------------------- | -------------------------------------------------------------------------------- |
| 1      | 你无此权限                       | 创建用户者不为超级管理员或系统管理员，或系统管理员想创建不属于自己业务实体的用户 |
| 2      | 提供的业务实体不存在             | 未找到请求体名字对应的业务实体                                                   |
| 2      | 提供的部门不存在                 | 创建非系统管理员但未找到请求体名字对应的部门                                     |
| 2      | 提供的部门并不该业务实体         | 提供的部门外键连接到的业务实体与提供的业务实体不匹配                             |
| 2      | 该用户名或邮箱对应的用户已经存在 | 创建的用户的名字或邮箱出现重复                                                   |
| 20     | 一个业务实体最多有5个系统管理员  | 创建的用户类型为系统管理员，但该业务实体的系统管理员过多，不符合规范             |
| 20     | 一个部门最多有5个资产管理员      | 创建的用户类型为资产管理员，但该部门的资产管理员过多，不符合规范                 |
| 20     | 一个部门最多有550个用户          | 创建的用户类型为用户，但该部门的普通用户过多，不符合规范                         |


<details>
 <summary>示例</summary>

请求

```json
{
  "name": "example_user",
  "password": "password123",
  "entity" : "aba",
  "department":"tsinghua",
  "character":1,
  "lock":False,
  "email" :""
}
```

响应

```json
{
  "code":0,
  "info":Succeed,
}
```

</details>

## 修改用户相关信息接口

**接口描述：**该接口用于较高级管理员修改低级管理员用户或自己的信息(如锁定或更改密码等)

`[PUT] /api/user/{session}`

**请求参数**

| 参数     | 类型 | 说明                                                 |
| -------- | ---- | ---------------------------------------------------- |
| password | str  | 若需更改密码，为更改后的密码信息，若不需要则为原密码 |
| lock     | str  | 锁定信息，若要锁定该用户则传入"True"                 |
| id       | int  | 需要修改信息的用户的id                               |

无成功响应参数，接口调用成功则用户信息则被修改，返回Succeed

**失败响应状态**

| 状态码 | 错误信息                               | 说明                                           |
| ------ | -------------------------------------- | ---------------------------------------------- |
| 2      | 目标用户不存在                         | 根据提供的id找不到对应用户                     |
| 5      | 你无权修改同级或级别高于你的用户的信息 | 操作者更改的角色权限更高，无法更改             |
| 1      | 你无此权限                             | 系统管理员修改不属于其业务实体的角色信息       |
| 250    | 不要尝试锁定自己！！！！！             | 锁定只能由权限更高的角色完成，自己不能锁定自己 |


<details>
 <summary>示例</summary>

请求

```json
{
  "id":1
  "password": "password123",
  "lock":False,
}
```

响应

```json
{
  "code":0,
  "info":Success,
}
```

</details>

## 获取用户角色接口

**接口描述：**该接口用于获取当前登录用户的角色，便于前端根据不同的角色渲染不同的页面

`[GET] /api/character/{session}`

此接口方法为GET，故无请求参数

**成功响应参数**

| 参数      | 类型 | 说明                   |
| --------- | ---- | ---------------------- |
| character | int  | 目前登录用户的角色权限 |

**失败响应状态**

| 状态码 | 错误信息                   | 说明                                                          |
| ------ | -------------------------- | ------------------------------------------------------------- |
| 2      | 用户的会话标识符信息不正确 | 用户提供的sessionId不符合规范，如长度不为32位，包含特殊字符等 |
| 1      | 用户还未登录               | 根据用户提供的sessionId找不到具体用户                         |


<details>
 <summary>示例</summary>

响应

```json
{
  "code":0
  "data":{
    "character":1
  }
}
```

</details>

## 获取全部用户列表接口



